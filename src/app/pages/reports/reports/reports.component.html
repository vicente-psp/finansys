<app-bread-crumb
  [itens]="[{text: 'Relarório de Receitas e Despesas'}]"
></app-bread-crumb>

<app-page-header
  page-title="Relarório de Receitas e Despesas"
  [show-button]="false"
></app-page-header>

<div class="card">
  <div class="card-header">
    Selecione o Mês e Ano para gerar os relatórios
  </div>

  <div class="card-body">
    <div class="form-row">
      <div class="form-group col-md-7">
        <label for="month">Mês</label>
        <select #month class="form-control">        
          <option *ngFor="let month of months" [value]="month.value">{{ month.text }}</option>
        </select>
      </div>
      
      <div class="form-group col-md-5">
        <label for="month">Ano</label>
        <select #year class="form-control">          
          <option *ngFor="let year of years" [value]="year.value">{{ year.text }}</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md text-right">
        <button type="button" (click)="generateReports()" class="btn btn-primary">
          Gerar Relatórios
        </button>
      </div>
    </div>

    <div class="card-deck mt-5 mb-5">
      <div class="card text-center text-white bg-success">
        <div class="card-header">TOTAL DE RECEITAS</div>
        <div class="card-body"><h3 class="card-title">{{ revenueTotal }}</h3></div>
      </div>

      <div class="card text-center text-white bg-danger">
        <div class="card-header">TOTAL DE DESPESAS</div>
        <div class="card-body"><h3 class="card-title">{{ expenseTotal }}</h3></div>
      </div>

      <div class="card text-center text-white bg-info">
        <div class="card-header">SALDO</div>
        <div class="card-body"><h3 class="card-title">{{ balance }}</h3></div>
      </div>
    </div>
  </div>

</div>

<hr>
<div class="row mt-5 mb-4">
  <div class="col-md-6">
    <p-chart type="bar" [data]="revenueChartData" [options]="chartOptions"></p-chart>
  </div>
  <div class="col-md-6">
    <p-chart type="bar" [data]="expenseChartData" [options]="chartOptions"></p-chart>
  </div>
</div>